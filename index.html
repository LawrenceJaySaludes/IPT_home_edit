<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section class="hero-section">
        <header class="header">
            <div class="left-header">
                <a href="../Profile/index.html">
                    <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/14d667f455694d8ae2a1a7fa329fa0229cac34ba60d63c3fcf7e2e30f0751a52?placeholderIfAbsent=true&apiKey=e6e279f9e06842139b3f7c01a7502bdc" 
                         alt="Iconography illustration" 
                         class="iconography-image" loading="lazy">
                </a>
                <nav class="nav-container">
                    <a href="#home" class="nav-link">Home</a>
                    <a href="../Contact/index.html" class="contact-link">Support</a>
                    <a href="https://cdn.botpress.cloud/webchat/v2.2/shareable.html?configUrl=https://files.bpcontent.cloud/2024/12/01/02/20241201022934-Z6K7CN2U.json" class="nav-link">HealthMe</a>
                </nav>
            </div>
        </header>
        <main class="main-content">
            <div class="progress-tracker">
                <div class="tracker-circle" id="progress-circle">
                    <span id="progress-text">0%</span>
                </div>
                <div class="task-container">
                    <div class="task-column">
                        <div class="task-item">
                            <input type="checkbox" id="task1" class="task-checkbox">
                            <label for="task1">Meditate for 10 minutes</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task2" class="task-checkbox">
                            <label for="task2">Write in a gratitude journal</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task3" class="task-checkbox">
                            <label for="task3">Take a 10-minute walk</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task4" class="task-checkbox">
                            <label for="task4">Talk to a supportive friend</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task5" class="task-checkbox">
                            <label for="task5">Do a breathing exercise</label>
                        </div>
                    </div>
                    <div class="task-column">
                        <div class="task-item">
                            <input type="checkbox" id="task6" class="task-checkbox">
                            <label for="task6">Read a relaxing book</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task7" class="task-checkbox">
                            <label for="task7">Listen to calming music</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task8" class="task-checkbox">
                            <label for="task8">Practice yoga for 15 minutes</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task9" class="task-checkbox">
                            <label for="task9">Declutter your space</label>
                        </div>
                        <div class="task-item">
                            <input type="checkbox" id="task10" class="task-checkbox">
                            <label for="task10">Drink a cup of herbal tea</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- New Stress & Energy Level Tracker Section -->
            <div class="stress-energy-section">
                <h2>Stress & Energy Level Tracker</h2>
                <div class="slider-container">
                    <!-- Stress Level -->
                    <div class="slider-item">
                        <label for="stress-slider">How stressed are you?</label>
                        <input type="range" id="stress-slider" min="1" max="10" value="5" step="1">
                        <span id="stress-level">5</span>
                    </div>
                    <!-- Energy Level -->
                    <div class="slider-item">
                        <label for="energy-slider">How energetic do you feel?</label>
                        <input type="range" id="energy-slider" min="1" max="10" value="5" step="1">
                        <span id="energy-level">5</span>
                    </div>
                </div>
                <div id="level-advice"></div>
            </div>

            <!-- Caption and Emotion Boxes -->
            <div class="emotion-boxes">
                <h2>How do you feel today?</h2>
                <div class="emotion-box" onclick="showAdvice('happy')">ðŸ˜Š<span>Happy</span></div>
                <div class="emotion-box" onclick="showAdvice('sad')">ðŸ˜¢<span>Sad</span></div>
                <div class="emotion-box" onclick="showAdvice('anxious')">ðŸ˜°<span>Anxious</span></div>
                <div class="emotion-box" onclick="showAdvice('relaxed')">ðŸ˜Œ<span>Relaxed</span></div>
                <div class="emotion-box" onclick="showAdvice('depressed')">ðŸ˜ž<span>Depressed</span></div>
                <div class="emotion-box" onclick="showAdvice('stress')">ðŸ˜¤<span>Stress</span></div>
            </div>

            <div class="advice-box" id="advice-box"></div>
            <div id="satisfaction-prompt" class="satisfaction-prompt hidden">
                <p>Are you satisfied?</p>
                <button onclick="handleSatisfaction('yes')">Yes</button>
                <button onclick="handleSatisfaction('no')">No</button>
            </div>
        </main>
    </section>

    <script>
        const checkboxes = document.querySelectorAll('.task-checkbox');
        const progressText = document.getElementById('progress-text');
        const progressCircle = document.getElementById('progress-circle');
        const adviceBox = document.getElementById('advice-box');
        const satisfactionPrompt = document.getElementById('satisfaction-prompt');

        let completedTasks = 0;
        const totalTasks = checkboxes.length;

        // Update progress tracker
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                completedTasks = [...checkboxes].filter(cb => cb.checked).length;
                const progress = Math.min((completedTasks / totalTasks) * 100, 100);
                progressText.textContent = `${progress}%`;
                progressCircle.style.background = `conic-gradient(#4caf50 ${progress}%, #d9d9d9 ${progress}%)`;
                
                if (progress === 100) {
                    satisfactionPrompt.classList.remove('hidden');
                } else {
                    satisfactionPrompt.classList.add('hidden');
                }
            });
        });

        // Display advice based on emotion
        function showAdvice(emotion) {
            const advice = {
                happy: "Keep spreading positivity! Remember to savor the good moments.",
                sad: "It's okay to feel sad. Take a moment to breathe and reach out to a friend.",
                anxious: "Try a grounding exercise: name 5 things you can see right now.",
                relaxed: "Enjoy the calm. Reflect on what's helping you stay relaxed.",
                depressed: "You are not alone. Reach out to a counselor or trusted person for support.",
                stress: "Take deep breaths. Prioritize tasks and don't forget self-care."
            };
            adviceBox.textContent = advice[emotion];
        }

        // Handle satisfaction prompt
        function handleSatisfaction(response) {
            if (response === 'yes') {
                alert("Great! Keep up the good work.");
            } else {
                alert("It's okay. Take your time and keep trying.");
            }
        }

        // Stress & Energy Level Tracker Functionality
        const stressSlider = document.getElementById('stress-slider');
        const energySlider = document.getElementById('energy-slider');
        const stressLevel = document.getElementById('stress-level');
        const energyLevel = document.getElementById('energy-level');
        const levelAdvice = document.getElementById('level-advice');

        function updateAdvice() {
            const stressValue = stressSlider.value;
            const energyValue = energySlider.value;

            stressLevel.textContent = stressValue;
            energyLevel.textContent = energyValue;

            let adviceText = "";

            if (stressValue >= 7) {
                adviceText += "You seem quite stressed. Consider taking a break or practicing deep breathing.\n";
            } else if (stressValue <= 3) {
                adviceText += "You're feeling relatively calm. Keep up the good work!\n";
            }

            if (energyValue <= 3) {
                adviceText += "Low energy detected. It's okay to take a rest or try a light exercise.\n";
            } else if (energyValue >= 7) {
                adviceText += "You're full of energy! Make the most of it with some productive tasks.\n";
            }

            levelAdvice.textContent = adviceText;
        }

        // Add event listeners to sliders
        stressSlider.addEventListener('input', updateAdvice);
        energySlider.addEventListener('input', updateAdvice);

        // Initial advice update
        updateAdvice();
    </script>
</body>
</html>
